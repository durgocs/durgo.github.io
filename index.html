<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>দুর্গ - শক্তি, সুরক্ষা ও প্রতিরক্ষা</title>
    <link href="https://fonts.googleapis.com/css2?family=SolaimanLipi&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyBs8HHINC0M9aIOKPUSMsyNl0EIg5CFXbg",
        authDomain: "durgo-98db3.firebaseapp.com",
        projectId: "durgo-98db3",
        storageBucket: "durgo-98db3.firebasestorage.app",
        messagingSenderId: "555229795402",
        appId: "1:555229795402:web:297210e199b5e3e7a282b3",
        measurementId: "G-27E5YLLTB6"
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
    </script>

    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SolaimanLipi', Arial, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background-color 0.3s ease;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(135deg, #1a1a1a, #333);
            color: white;
            padding: 1.5rem 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .logo {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, #d4af37, #f9f9f9);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: fadeIn 1s ease;
        }
        
        .slogan {
            font-size: 1.2rem;
            color: #d4af37;
            margin-bottom: 0.3rem;
        }
        
        .tagline {
            font-size: 0.9rem;
            color: #aaa;
        }

        /* Helpline Button in Header */
        .helpline-btn {
            background: linear-gradient(135deg, #d4af37, #f1c232);
            color: #1a1a1a;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 1rem auto;
            display: inline-block;
            text-decoration: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        .helpline-btn:hover {
            background: linear-gradient(135deg, #f1c232, #d4af37);
            transform: translateY(-2px);
        }
        
        /* Main Content Styles */
        main {
            flex: 1;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        
        /* Navigation Buttons */
        .nav-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .nav-btn {
            background: linear-gradient(135deg, #1a1a1a, #333);
            color: white;
            border: none;
            padding: 1.5rem;
            border-radius: 8px;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .nav-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .nav-btn:hover::before {
            left: 100%;
        }
        
        .nav-btn i {
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        /* Page Sections */
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
            scroll-margin-top: 20px; /* Smooth scrolling offset */
        }
        
        .page.active {
            display: block;
        }
        
        .page-title {
            font-size: 2rem;
            color: #d4af37;
            margin-bottom: 1.5rem;
            text-align: center;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 0.5rem;
        }
        
        /* Home Page */
        .home-page {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        /* Shikhun Page */
        .blog-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .blog-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .blog-card:hover {
            transform: translateY(-5px);
        }
        
        .blog-title {
            font-size: 1.3rem;
            color: #8b0000;
            margin-bottom: 0.5rem;
        }
        
        .blog-content {
            color: #333;
        }
        
        /* Shahajjo Page */
        .help-article {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            line-height: 1.8;
        }
        
        /* Report Page */
        .report-form {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: bold;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group textarea:focus {
            border-color: #d4af37;
            outline: none;
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #8b0000, #a52a2a);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .submit-btn:hover {
            background: linear-gradient(135deg, #a52a2a, #8b0000);
            transform: translateY(-2px);
        }
        
        /* Admin Page */
        .login-form, .admin-panel {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .admin-panel {
            display: none;
        }
        
        .reports-list {
            margin-top: 1.5rem;
        }
        
        .report-item {
            background: #f9f9f9;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
            border-left: 4px solid #8b0000;
        }
        
        .report-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: #666;
        }
        
        .report-content {
            color: #333;
        }
        
        .logout-btn {
            background: linear-gradient(135deg, #1a1a1a, #333);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }
        
        .logout-btn:hover {
            background: linear-gradient(135deg, #333, #1a1a1a);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, #1a1a1a, #333);
            color: #aaa;
            text-align: center;
            padding: 1rem;
            font-size: 0.8rem;
            line-height: 1.4;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .logo {
                font-size: 2.2rem;
            }
            
            .slogan {
                font-size: 1rem;
            }
            
            .tagline {
                font-size: 0.8rem;
            }
            
            .nav-buttons {
                grid-template-columns: 1fr;
            }
            
            .page-title {
                font-size: 1.5rem;
            }
        }
        
        /* Utility Classes */
        .text-center {
            text-align: center;
        }
        
        .mt-2 {
            margin-top: 2rem;
        }
        
        .mb-2 {
            margin-bottom: 2rem;
        }
    </style>
</head>
<body>
    <header>
        <h1 class="logo">দুর্গ</h1>
        <p class="slogan">শক্তি, সুরক্ষা ও প্রতিরক্ষা</p>
        <p class="tagline">A safe digital fort for Every Student..</p>
        <div class="mt-2">
            <a href="tel:1098" class="helpline-btn">
                <span>📞</span> জাতীয় শিশু হেল্পলাইন কল করুন ১০৯৮
            </a>
        </div>
    </header>
    
    <main>
        <!-- Home Page Content Moved Above Navigation -->
        <div id="home" class="page active">
            <div class="home-page">
                <h2 class="page-title">স্বাগতম দুর্গে</h2>
                <p>জাতীয় শিশু হেল্পলাইন এ কল করুন যেকোনো শিশু নির্যাতনের ঘটনায় । যেকোনো সমস্যায় প্রথমে এখানে কল দিন: জাতীয় শিশু হেল্পলাইন | আমরা আপনার পাশে আছি।</p>
            </div>
        </div>
        
        <!-- Navigation Buttons -->
        <div class="nav-buttons">
            <button class="nav-btn" onclick="navigate('home')">
                <span>🏠</span> হোম
            </button>
            <button class="nav-btn" onclick="navigate('shikhun')">
                <span>📘</span> শিখুন
            </button>
            <button class="nav-btn" onclick="navigate('shahajjo')">
                <span>💬</span> সাহায্য নিন
            </button>
            <button class="nav-btn" onclick="navigate('report')">
                <span>📝</span> রিপোর্ট করুন
            </button>
            <button class="nav-btn" onclick="navigate('admin')">
                <span>🔐</span> অ্যাডমিন
            </button>
        </div>
        
        <!-- Other Pages -->
        <!-- Shikhun Page -->
        <div id="shikhun" class="page">
            <h2 class="page-title">শিখুন</h2>
            <div class="blog-list">
                <div class="blog-card">
                    <h3 class="blog-title">শিশু সুরক্ষা</h3>
                    <p class="blog-content">শিশুদের সুরক্ষা একটি মৌলিক অধিকার। তারা সমাজের সবচেয়ে দুর্বল ও নির্ভরশীল অংশ, তাই তাদেরকে নিরাপদ ও ভালোবাসাপূর্ণ পরিবেশে বড় করে তোলা আমাদের নৈতিক ও সামাজিক দায়িত্ব। শিশুরা প্রায়ই শারীরিক নির্যাতন, মানসিক আঘাত, যৌন হয়রানি বা অবহেলার শিকার হয়, যা তাদের মানসিক বিকাশের জন্য মারাত্মক ক্ষতিকর। শিশুদের সুরক্ষায় পরিবারে ভালো সম্পর্ক, বিদ্যালয়ে নিরাপদ পরিবেশ এবং সমাজে সচেতনতা অত্যন্ত গুরুত্বপূর্ণ। প্রতিটি শিশুকে এমনভাবে বড় করতে হবে যেন সে ভয় নয়, আত্মবিশ্বাস নিয়ে বেড়ে উঠতে পারে। সরকারের পক্ষ থেকে শিশু অধিকার আইন, শিশু হেল্পলাইন (১০৯৮), এবং শিক্ষা ও সুরক্ষা কার্যক্রম চালু করা হয়েছে। তবে কেবল আইন করলেই চলবে না, সমাজ ও পরিবারকে এই বিষয়ে সক্রিয় ও মানবিক হতে হবে। শিশুদের নিরাপদ শৈশব নিশ্চিত করা মানেই একটি সুন্দর ভবিষ্যতের বীজ বপন করা।</p>
                </div>
                <div class="blog-card">
                    <h3 class="blog-title"> শিশু শক্তি</h3>
                    <p class="blog-content">শিশুরা একটি জাতির সবচেয়ে বড় সম্পদ। তাদের মাঝে লুকিয়ে থাকে অগণিত সম্ভাবনা, সৃষ্টিশীলতা এবং ভবিষ্যৎ নেতৃত্বের গুণ। একজন শিশু সঠিক শিক্ষা, ভালোবাসা ও পরিচর্যার মাধ্যমে বড় হয়ে একজন মহান ব্যক্তি হতে পারে, সমাজ ও দেশের জন্য গুরুত্বপূর্ণ অবদান রাখতে পারে। শিশুরা যেমন নিষ্পাপ, তেমনি তারা সহজেই শেখে এবং দ্রুত বিকশিত হয়। তাদের শক্তিকে যদি উপযুক্ত পরিবেশে বিকশিত হতে দেওয়া হয়, তাহলে তারা সমাজ পরিবর্তনের শক্তিশালী হাতিয়ার হয়ে উঠবে। দুর্ভাগ্যজনকভাবে, অনেক শিশুই দারিদ্র্য, নির্যাতন, শিশুশ্রম বা অবহেলার শিকার হয়, যার ফলে তাদের সুপ্ত শক্তি বিকশিত হওয়ার আগেই ঝরে যায়। একটি দেশের উন্নয়নের জন্য শিশুদের সুস্থ, সুশিক্ষিত এবং সুরক্ষিত রাখা অপরিহার্য। শিশু শক্তিকে কাজে লাগাতে হলে পরিবার, সমাজ এবং রাষ্ট্রকে একসাথে এগিয়ে আসতে হবে। আমাদের প্রত্যেকের দায়িত্ব, প্রতিটি শিশুর মেধা ও মনন গঠনের সহায়ক ভূমিকা পালন করা। কারণ আজকের শিশু, আগামী দিনের বাংলাদেশ।

</p>
                </div>
                <div class="blog-card">
                    <h3 class="blog-title">শিশু নির্যাতন</h3>
                    <p class="blog-content">শিশু নির্যাতন একটি গুরুতর সামাজিক সমস্যা। এটি শিশুর শারীরিক, মানসিক বা যৌন ক্ষতি সাধন করে এবং তাদের জীবনে চিরস্থায়ী প্রভাব ফেলে। অনেক সময় পরিবারেই শিশুরা সবচেয়ে বেশি নির্যাতনের শিকার হয়, যা সমাজের জন্য অশনিসংকেত। স্কুল, রাস্তাঘাট বা কর্মস্থলেও শিশুরা হয়রানি ও অবহেলার শিকার হয়। শিশুরা প্রতিবাদ করতে পারে না, তাই অনেকেই নিরবেই কষ্ট সহ্য করে যায়। এই নির্যাতনের ফলে শিশুরা আত্মবিশ্বাস হারায়, মানসিকভাবে ভেঙে পড়ে, এমনকি আত্মহত্যার পথও বেছে নিতে পারে। শিশু নির্যাতনের মূল কারণগুলোর মধ্যে রয়েছে দারিদ্র্য, অশিক্ষা, রাগ নিয়ন্ত্রণের অভাব, মাদকাসক্তি এবং সামাজিক সচেতনতার ঘাটতি। এই অবস্থার পরিবর্তনে পরিবার, স্কুল, সমাজ এবং রাষ্ট্রকে একসঙ্গে কাজ করতে হবে। শিশুদের ভালোবাসা, যত্ন ও নিরাপত্তা দিয়ে গড়ে তুলতে হবে একটি নির্যাতনমুক্ত শৈশব।</p>
                </div>
                <div class="blog-card">
                    <h3 class="blog-title">নির্যাতন থেকে বাঁচার উপায়</h3>
                    <p class="blog-content">শিশুদের নির্যাতনের হাত থেকে রক্ষা করার জন্য তাদের সচেতনতা ও সাহস তৈরি করা অত্যন্ত জরুরি। শিশুকে শেখাতে হবে কীভাবে খারাপ স্পর্শ ও আচরণ চিনে ফেলতে হয় এবং কোথায় কার কাছে জানাতে হয়। শিশুদের বলা উচিত, যদি কেউ তাকে খারাপ ভাবে স্পর্শ করে, ভয় দেখায় বা গোপন রাখতে বলে, তাহলে সঙ্গে সঙ্গে মা-বাবা বা বিশ্বস্ত বড়দের জানাতে হবে। সরকার নির্যাতনের বিরুদ্ধে আইন করেছে এবং শিশু হেল্পলাইন ১০৯৮ চালু করেছে, যেখানে ফোন করলেই সহায়তা পাওয়া যায়। পরিবারের উচিত শিশুর সঙ্গে খোলামেলা সম্পর্ক রাখা যেন তারা নির্ভয়ে সব কথা বলতে পারে। স্কুলে শিক্ষকদের দায়িত্ব আছে শিশুদের সচেতন ও সাহসী করে তোলা। শিশুদের আত্মবিশ্বাস গড়ে তুলতে খেলাধুলা, সাহসিকতা ও নিজস্ব মত প্রকাশের সুযোগ দিতে হবে। নির্যাতন প্রতিরোধে সবচেয়ে বড় হাতিয়ার হলো সচেতনতা, সাহস এবং সহানুভূতিশীল সমাজ।

</p>
                </div>
                <div class="blog-card">
                    <h3 class="blog-title">শিশু নির্যাতনের কারণ</h3>
                    <p class="blog-content">শিশু নির্যাতনের পেছনে রয়েছে নানা কারণ— ব্যক্তিগত, পারিবারিক এবং সামাজিক। অশিক্ষা, কুসংস্কার, দারিদ্র্য এবং রাগ নিয়ন্ত্রণের অভাব শিশু নির্যাতনের প্রধান কারণগুলোর মধ্যে অন্যতম। অনেক সময় বাবা-মা নিজেদের সমস্যার কারণে শিশুদের ওপর রাগ প্রকাশ করে, যা ধীরে ধীরে শারীরিক ও মানসিক নির্যাতনে রূপ নেয়। কর্মজীবী বাবা-মা সন্তানের প্রতি উদাসীন থাকে, ফলে শিশুরা পরিচর্যা ও ভালোবাসার অভাবে একাকীত্ব ও মানসিক অবসাদে ভোগে। সমাজে শিশুদের প্রাধান্য কম এবং তাদের কথা গুরুত্ব দিয়ে শোনা হয় না বলেই তারা নির্যাতিত হয়েও ন্যায় বিচার পায় না। আবার কিছু মানুষ নিজের বিকৃত মানসিকতার কারণে শিশুকে ক্ষতিগ্রস্ত করে, যা একটি বড় সামাজিক ব্যর্থতা। শিশু নির্যাতনের কারণগুলো বন্ধ করতে হলে পরিবারে ভালো সম্পর্ক, শিক্ষা, মূল্যবোধ এবং আইনের কঠোর বাস্তবায়ন নিশ্চিত করতে হবে।</p>
                </div>
            </div>
        </div>
        
        <!-- Shahajjo Page -->
        <div id="shahajjo" class="page">
            <h2 class="page-title">সাহায্য নিন</h2>
            <div class="help-article">
                <h3>শিশু নির্যাতনের শিকার হলে কী করবেন?</h3>
                <p>আপনি যদি কোনো শিশু নির্যাতনের শিকার হন বা দেখেন, নিম্নলিখিত পদক্ষেপগুলো অনুসরণ করুন:</p>
                
                <h4>তাৎক্ষণিক পদক্ষেপ:</h4>
                <ol>
                    <li>নিরাপদ স্থানে চলে যান - যদি সম্ভব হয়, নির্যাতনের স্থান থেকে দূরে সরে যান。</li>
                    <li>কাউকে জানান - বিশ্বস্ত কোনো প্রাপ্তবয়স্ক, শিক্ষক বা পরিবারের সদস্যকে ঘটনা জানান।</li>
                    <li>চিকিৎসা সহায়তা নিন - শারীরিক আঘাত থাকলে দ্রুত চিকিৎসকের শরণাপন্ন হন।</li>
                    <li>প্রমাণ সংরক্ষণ করুন - কোনো প্রমাণ (ছবি, বার্তা, কাপড়) থাকলে তা সংরক্ষণ করুন।</li>
                </ol>
                
                <h4>আইনি সহায়তা:</h4>
                <ol>
                    <li>পুলিশে ৯৯৯ রিপোর্ট করুন - শিশু নির্যাতন একটি গুরুতর অপরাধ, স্থানীয় থানায় জিডি বা এফআইআর করুন।</li>
                    <li>১০৯৮ এ কল করুন - জাতীয় শিশু হেল্পলাইনে বিনামূল্যে পরামর্শ ও সহায়তা পাবেন।</li>
                    <li>আইনি পরামর্শ নিন - শিশু অধিকার সংস্থা বা আইনজীবীর সাথে যোগাযোগ করুন।</li>
                </ol>
                
                <h4>মানসিক সহায়তা:</h4>
                <ol>
                    <li>কাউন্সেলিং নিন - মানসিক আঘাত কাটিয়ে উঠতে পেশাদার সাহায্য নিন।</li>
                    <li>সাপোর্ট নেওয়া - বিদ্যালয়ের প্রধান শিক্ষক বা শিক্ষক অথবা অভিজ্ঞতা সম্পন্ন সাথে কথা বলুন।</li>
                    <li>নিজের যত্ন নিন - পর্যাপ্ত বিশ্রাম নিন, স্বাস্থ্যকর খাবার খান, নিয়মিত ব্যায়াম করুন।</li>
                </ol>
                
                <p class="mt-2">মনে রাখবেন, নির্যাতন আপনার দোষ নয়। সাহায্য চাওয়া আপনার অধিকার। আমরা আপনার পাশে আছি।</p>
            </div>
        </div>
        
        <!-- Report Page -->
        <div id="report" class="page">
            <h2 class="page-title">রিপোর্ট করুন</h2>
            <div class="report-form">
                <form id="reportForm">
                    <div class="form-group">
                        <label for="name">আপনার নাম *</label>
                        <input type="text" id="name" placeholder="আপনার নাম লিখুন....">
                    </div>
                    <div class="form-group">
                        <label for="phone">ফোন নম্বর *</label>
                        <input type="tel" id="phone" placeholder="ফোন নম্বর লিখুন....">
                    </div>
                    <div class="form-group">
                        <label for="description">ঘটনার বিবরণ *</label>
                        <textarea id="description" placeholder="ঘটনাটি কোথায় ঘটেছে, কীভাবে ঘটেছে এবং কারা করেছে, সেটি বিস্তারিতভাবে লিখুন...." required></textarea>
                    </div>
                    <button type="submit" class="submit-btn">রিপোর্ট জমা দিন</button>
                </form>
                
                <div class="text-center mt-2">
                    <p>জরুরি অবস্থায় অবিলম্বে কল করুন:</p>
                    <a href="tel:1098" class="helpline-btn">
                        <span>📞</span> জাতীয় শিশু হেল্পলাইন কল করুন ১০৯৮
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Admin Page -->
        <div id="admin" class="page">
            <div class="login-form" id="loginForm">
                <h2 class="page-title">অ্যাডমিন লগইন</h2>
                <form id="adminLoginForm">
                    <div class="form-group">
                        <label for="username">ব্যবহারকারীর নাম</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">পাসওয়ার্ড</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit" class="submit-btn">লগইন</button>
                </form>
            </div>
            
            <div class="admin-panel" id="adminPanel">
                <h2 class="page-title">জমা দেওয়া রিপোর্টসমূহ</h2>
                <div class="reports-list" id="reportsList">
                    <!-- Reports will be displayed here -->
                </div>
                <button class="logout-btn" onclick="logout()">লগআউট</button>
            </div>
        </div>
    </main>
    
    <footer>
        <p>দুর্গ - শিশু সুরক্ষা প্ল্যাটফর্ম</p>
        <p>সকল অধিকার সংরক্ষিত © ২০২৫</p>
    </footer>
    
<script>
    // Navigation Functionality with Smooth Scrolling
    function navigate(pageId) {
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        const targetPage = document.getElementById(pageId);
        targetPage.classList.add('active');
        targetPage.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Report Form Handling - IMPROVED VERSION
    document.getElementById('reportForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const submitBtn = this.querySelector('.submit-btn');
    const originalBtnText = submitBtn.textContent;
    
    try {
        // Show loading state
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
        
        // Get form values
        const reportData = {
            name: document.getElementById('name').value || 'Anonymous',
            phone: document.getElementById('phone').value || 'Not provided',
            description: document.getElementById('description').value,
            date: firebase.firestore.FieldValue.serverTimestamp()
        };

        if (!reportData.description) {
            throw new Error('Description is required');
        }

        console.log("Attempting to submit:", reportData);
        
        // Submit to Firestore with timeout
        const submissionPromise = db.collection("reports").add(reportData);
        const timeoutPromise = new Promise((_, reject) => 
            setTimeout(() => reject(new Error('Submission timeout')), 10000));
        
        const docRef = await Promise.race([submissionPromise, timeoutPromise]);
        console.log("Submitted with ID:", docRef.id);
        
        // Reset form
        this.reset();
        alert('Report submitted successfully!');
        
    } catch (error) {
        console.error("Submission error:", error);
        alert(`Submission failed: ${error.message}\nCheck console for details`);
        
        // Additional debugging for Firestore errors
        if (error.code) {
            console.log("Firestore error code:", error.code);
            console.log("Firestore error details:", error.details);
        }
    } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = originalBtnText;
    }
});

    // Admin Login - IMPROVED VERSION
    document.getElementById('adminLoginForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        
        if (username === 'durgoadmin' && password === 'everyonebesupporter') {
            try {
                // Show loading state
                const loginBtn = this.querySelector('.submit-btn');
                loginBtn.disabled = true;
                loginBtn.textContent = 'Logging in...';
                
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                
                console.log("Attempting to load reports...");
                await loadReports();
            } catch (error) {
                console.error("Login error details:", error);
                alert('Login failed. Check console for error details');
            } finally {
                const loginBtn = this.querySelector('.submit-btn');
                if (loginBtn) {
                    loginBtn.disabled = false;
                    loginBtn.textContent = 'Login';
                }
            }
        } else {
            alert('Invalid username or password!');
        }
    });
    
    // Load Reports from Firebase - IMPROVED VERSION
    async function loadReports() {
        const reportsList = document.getElementById('reportsList');
        reportsList.innerHTML = '<p>Loading reports...</p>';
        
        try {
            console.log("Fetching reports from Firestore...");
            const snapshot = await db.collection("reports")
                .orderBy("date", "desc")
                .get();
            
            console.log(`Found ${snapshot.size} reports`);
            
            if (snapshot.empty) {
                reportsList.innerHTML = '<p>No reports found</p>';
                return;
            }
            
            reportsList.innerHTML = '';
            
            snapshot.forEach(doc => {
                const report = doc.data();
                console.log("Processing report:", doc.id, report);
                
                const reportDate = report.date ? 
                    new Date(report.date.seconds * 1000).toLocaleString('bn-BD') : 
                    'Date not available';
                
                const reportItem = document.createElement('div');
                reportItem.className = 'report-item';
                reportItem.innerHTML = `
                    <div class="report-meta">
                        <span>${report.name}</span>
                        <span>${reportDate}</span>
                    </div>
                    <div class="report-meta">
                        <span>Phone: ${report.phone}</span>
                    </div>
                    <div class="report-content">
                        <p>${report.description}</p>
                    </div>
                `;
                reportsList.appendChild(reportItem);
            });
        } catch (error) {
            console.error("Error loading reports:", error);
            reportsList.innerHTML = `
                <p>Error loading reports</p>
                <p style="color: red">${error.message}</p>
            `;
        }
    }
    
    function logout() {
        document.getElementById('loginForm').style.display = 'block';
        document.getElementById('adminPanel').style.display = 'none';
        document.getElementById('adminLoginForm').reset();
    }
    
    // Initialize - show home page
    navigate('home');

    // Debugging: Verify Firebase initialization
    console.log("Firebase initialized successfully:", firebase.app().name);
    console.log("Firestore instance available:", !!db);
</script>
</body>
</html>
